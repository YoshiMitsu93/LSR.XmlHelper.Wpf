<Window
    x:Class="LSR.XmlHelper.Wpf.Views.AppearanceWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:appearanceTabs="clr-namespace:LSR.XmlHelper.Wpf.Views.AppearanceTabs"
    xmlns:infra="clr-namespace:LSR.XmlHelper.Wpf.Infrastructure"
    Title="Appearance"
    Width="720"
    Height="560"
    ResizeMode="CanResize"
    ShowInTaskbar="False"
    WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <infra:InverseBooleanToVisibilityConverter x:Key="InverseBoolToVis" />
        <infra:InverseBooleanConverter x:Key="InverseBool" />
        <Style x:Key="SwatchButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Focusable" Value="False" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="#FF999999" />
            <Setter Property="Background" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            SnapsToDevicePixels="True" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="SectionHeader" TargetType="{x:Type TextBlock}">
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Margin" Value="0,18,0,10" />
        </Style>
        <Style x:Key="SubHeader" TargetType="{x:Type TextBlock}">
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Margin" Value="0,6,0,6" />
        </Style>
    </Window.Resources>
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <StackPanel
            Grid.Row="0"
            Margin="0,0,0,12"
            Orientation="Vertical">
            <StackPanel Margin="0,0,0,8" Orientation="Horizontal">
                <TextBlock
                    Margin="0,0,10,0"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    Text="Editing:" />
                <RadioButton
                    Margin="0,0,10,0"
                    Content="Dark"
                    GroupName="Theme"
                    IsChecked="{Binding IsEditingDarkMode, Mode=TwoWay}" />
                <RadioButton
                    Content="Light"
                    GroupName="Theme"
                    IsChecked="{Binding IsEditingDarkMode, Mode=TwoWay, Converter={StaticResource InverseBool}}" />
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <TextBlock
                    Margin="0,0,10,0"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    Text="Applies to:" />
                <RadioButton
                    Margin="0,0,10,0"
                    Content="Friendly view"
                    GroupName="Target"
                    IsChecked="{Binding IsEditingFriendlyView, Mode=TwoWay}" />
                <RadioButton
                    Content="Raw XML"
                    GroupName="Target"
                    IsChecked="{Binding IsEditingFriendlyView, Mode=TwoWay, Converter={StaticResource InverseBool}}" />
            </StackPanel>
        </StackPanel>
        <DockPanel Grid.Row="1">
            <TabControl
                x:Name="AppearanceTabs"
                Margin="0,0,0,8"
                DockPanel.Dock="Top"
                SelectionChanged="AppearanceTabs_OnSelectionChanged">
                <TabItem Header="Fonts" />
                <TabItem Header="Editor" Visibility="{Binding IsEditingFriendlyView, Converter={StaticResource InverseBoolToVis}}" />
                <TabItem Header="Top Menu Bar" />
                <TabItem Header="Top Bar Controls" />
                <TabItem Header="Pane 1" />
                <TabItem Header="Pane 2" Visibility="{Binding IsEditingFriendlyView, Converter={StaticResource BoolToVis}}" />
                <TabItem Header="Pane 3" Visibility="{Binding IsEditingFriendlyView, Converter={StaticResource BoolToVis}}" />
            </TabControl>

            <ScrollViewer x:Name="AppearanceScrollViewer" VerticalScrollBarVisibility="Auto">

                <StackPanel Orientation="Vertical">
                    <StackPanel x:Name="SectionFontsPanel">
                        <appearanceTabs:AppearanceFontsTab />
                    </StackPanel>
                    <!--  RAW XML  -->
                    <StackPanel Visibility="{Binding IsEditingRawXml, Converter={StaticResource BoolToVis}}">
                        <StackPanel x:Name="SectionEditorPanel">
                            <appearanceTabs:AppearanceEditorTab />
                        </StackPanel>
                        <StackPanel x:Name="SectionTopMenuRawPanel">
                            <appearanceTabs:AppearanceTopMenuBarRawTab />
                        </StackPanel>
                        <StackPanel x:Name="SectionTopBarRawPanel">
                            <appearanceTabs:AppearanceTopBarControlsRawTab />
                        </StackPanel>
                        <StackPanel x:Name="SectionPane1RawPanel">
                            <appearanceTabs:AppearancePane1RawTab />
                        </StackPanel>
                    </StackPanel>
                    <!--  FRIENDLY VIEW  -->
                    <StackPanel Visibility="{Binding IsEditingFriendlyView, Converter={StaticResource BoolToVis}}">
                        <StackPanel x:Name="SectionTopMenuFriendlyPanel">
                            <appearanceTabs:AppearanceTopMenuBarFriendlyTab />
                        </StackPanel>
                        <StackPanel x:Name="SectionTopBarFriendlyPanel">
                            <appearanceTabs:AppearanceTopBarControlsFriendlyTab />
                        </StackPanel>
                        <StackPanel x:Name="SectionPane1FriendlyPanel">
                            <appearanceTabs:AppearancePane1FriendlyTab />
                        </StackPanel>
                        <StackPanel x:Name="SectionPane2Panel">
                            <appearanceTabs:AppearancePane2Tab />
                        </StackPanel>
                        <StackPanel x:Name="SectionPane3Panel">
                            <appearanceTabs:AppearancePane3Tab />
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </DockPanel>
        <DockPanel Grid.Row="2" LastChildFill="False">
            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                <Button
                    MinWidth="90"
                    Margin="0,0,8,0"
                    Command="{Binding ApplyCommand}"
                    Content="Apply" />
                <Button
                    MinWidth="90"
                    Margin="0,0,8,0"
                    Command="{Binding OkCommand}"
                    Content="OK" />
                <Button
                    MinWidth="90"
                    Command="{Binding CancelCommand}"
                    Content="Cancel" />
            </StackPanel>
        </DockPanel>
    </Grid>
</Window>
