<Window x:Class="LSR.XmlHelper.Wpf.Views.GlobalSearchWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Global Search"
        Width="860"
        Height="520"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    <DockPanel Margin="10">
        <StackPanel DockPanel.Dock="Top" Orientation="Vertical">
            <TextBlock Text="Search all XML files (raw text)" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,8" />

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0"
                         Height="28"
                         VerticalContentAlignment="Center"
                         Text="{Binding Query, UpdateSourceTrigger=PropertyChanged}" />

                <CheckBox Grid.Column="1"
                          Margin="10,0,10,0"
                          VerticalAlignment="Center"
                          Content="Case sensitive"
                          IsChecked="{Binding CaseSensitive}" />

                <Button Grid.Column="2"
                        MinWidth="90"
                        Height="28"
                        Margin="0,0,8,0"
                        Content="Search"
                        Command="{Binding SearchCommand}" />

                <Button Grid.Column="3"
                        MinWidth="90"
                        Height="28"
                        Content="Cancel"
                        Command="{Binding CancelCommand}" />
            </Grid>

            <TextBlock Text="{Binding Status}" Margin="0,8,0,8" />
        </StackPanel>

        <DataGrid ItemsSource="{Binding Hits}"
                  SelectedItem="{Binding SelectedHit, Mode=TwoWay}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  MouseDoubleClick="Results_MouseDoubleClick">
            <DataGrid.Columns>
                <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="260" />
                <DataGridTextColumn Header="Line" Binding="{Binding LineNumber}" Width="70" />
                <DataGridTextColumn Header="Col" Binding="{Binding ColumnNumber}" Width="70" />
                <DataGridTextColumn Header="Preview" Binding="{Binding PreviewLine}" Width="*" />
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button MinWidth="110"
                    Height="28"
                    Margin="0,0,8,0"
                    Content="Open"
                    Command="{Binding OpenSelectedCommand}" />
            <Button MinWidth="110" Height="28" Content="Close" Click="Close_Click" />
        </StackPanel>
    </DockPanel>
</Window>
